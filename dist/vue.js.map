{"version":3,"file":"vue.js","sources":["../src/observe/arr.js","../src/observe/index.js","../src/initState.js","../src/compile/index.js","../src/compile/parseAst.js","../src/compile/generate.js","../src/vnode/patch.js","../src/lifecycle.js","../src/init.js","../src/vnode/index.js","../src/utils/index.js","../src/global-api/index.js","../src/index.js"],"sourcesContent":["//重写数组\r\n// 1、获取原来的数组方法\r\nlet oldArrayProtoMethods = Array.prototype\r\n\r\n//2、继承\r\nexport let ArrayMethods = Object.create(oldArrayProtoMethods)\r\n\r\n//3、劫持\r\nlet methods = [\"push\", \"pop\", \"unshift\", \"shift\", \"splice\"]\r\nmethods.forEach(item => {\r\n    ArrayMethods[item] = function (...args) {\r\n        let res = oldArrayProtoMethods[item].apply(this, args)\r\n\r\n        let insert\r\n        switch (item) {\r\n            case \"push\":\r\n            case \"unshift\":\r\n                insert = args\r\n                break;\r\n            case \"splice\": insert = args.splice(2)\r\n        }\r\n        let ob = this.__ob__\r\n        if(insert){\r\n            ob.observeArray(insert) //对添加的对象进行劫持\r\n        }\r\n        \r\n        return res\r\n    }\r\n})","/**\r\n对象劫持:使用的是Object.defineProperty,由于该方法只能对对象中的某一个属性进行劫持，故需要遍历对象中的每一个属性对其进行劫持。\r\n同时需要使用递归防止多重对象或设置的新值还是对象所以没有监听到的问题\r\n\r\n数组劫持：使用函数劫持的方法重写数组方法\r\n**/\r\nimport { ArrayMethods } from \"./arr\"\r\n\r\nexport function observer(data){\r\n    //对象数据\r\n    if(typeof data != 'object' || data == null) return data\r\n    return new Observer(data)\r\n}\r\n\r\nclass Observer{\r\n    //Object.defineProperty只可以对对象中的某一个属性进行劫持\r\n    constructor(value){\r\n        Object.defineProperty(value,\"__ob__\",{  //给value一个属性，存储this的值\r\n            enumerable:false,\r\n            value:this\r\n        })\r\n        if(Array.isArray(value)){\r\n            value.__proto__ = ArrayMethods\r\n            this.observerArray(value) //处理数组对象劫持\r\n        }else{\r\n            this.walk(value) //遍历劫持\r\n        }\r\n    }\r\n    walk(data){\r\n        let keys = Object.keys(data)\r\n        for(let i=0;i < keys.length; i++){\r\n            let key = keys[i]\r\n            let value = data[key]\r\n            defineReactive(data,key,value)\r\n        }\r\n    }\r\n    observerArray(value){\r\n        for(let i = 0; i < value.length; i++){\r\n            observer(value[i])\r\n        }\r\n    }\r\n}\r\n\r\nfunction  defineReactive(data,key,value) {\r\n    observer(value) //深度递归\r\n    Object.defineProperty(data,key,{\r\n        get(){\r\n            return value  //这里直接return value就好，不能return data[key]，因为data[key]会再次访问数据造成无限循环\r\n        },\r\n        set(newValue){\r\n            if(newValue == value) return\r\n            observer(newValue) //防止设置的值为一个新的对象导致没有监听到\r\n            value = newValue\r\n        }\r\n    })\r\n}\r\n\r\n","import { observer } from \"./observe/index\"\r\nexport function initState(vm){\r\n    let opt = vm.$options\r\n    //初始化\r\n    if(opt.props){\r\n        initProps()\r\n    }\r\n    if(opt.data){\r\n        initData(vm)\r\n    }\r\n    if(opt.watch){\r\n        initWatch()\r\n    }\r\n    if(opt.computed){\r\n        initComputes()\r\n    }\r\n    if(opt.methods){\r\n        initMethods()\r\n    }\r\n}\r\n\r\n//vue2对data进行初始化判断data为对象还是函数      实例中data可以为对象或者函数，组件中只能为函数\r\nfunction initData(vm){\r\n    let data = vm.$options.data\r\n    //浅拷贝\r\n    data = vm.data = typeof data == \"function\" ? data.call(vm) : data  //data()中的this指向window，需修改this使其指向实例把数据加到实例上   实例中的函数为箭头函数则this指向window，否者指向实例\r\n    //数据劫持\r\n    //将data上的所有属性代理到实例上的vm\r\n    // for(let key in data){\r\n    //     proxy(vm,\"_data\",key) //使vm.msg = vm._data.msg\r\n    // }\r\n    observer(data)\r\n} \r\n\r\nfunction proxy(vm,source,key){\r\n    Object.defineProperty(vm,key,{\r\n        get(){\r\n            return vm[source][key]\r\n        },\r\n        set(newValue){\r\n            vm[source][key] = newValue\r\n        }\r\n    })\r\n}\r\n\r\nfunction initComputes(){}\r\nfunction initMethods(){}\r\nfunction initProps(){}\r\nfunction initWatch(){}","//生成ast语法树：可以操作所有东西包括js，css     虚拟dom（vnode）只可以操作节点\r\n/**\r\n * 把<div id=\"app\">hello</div>变成\r\n * {\r\n *  tag:'div',\r\n *  attrs:[{id:'app'}],\r\n *  children:[{tag:null,text:'hello'}]\r\n * }\r\n **/\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*` //标签名称\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})` //作用域标签<span:xxx>\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) //标签开头的正则，捕获的内容是标签名\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) //匹配标签结尾\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\r\nconst startTagClose = /^\\s*(\\/?)>/ //匹配标签结束的>\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\n//创建一个ast对象\r\nfunction createAstElement(tag, attrs) {\r\n    return {\r\n        tag,\r\n        attrs,\r\n        children: [],\r\n        type: 1,\r\n        parent: null,\r\n    }\r\n}\r\n\r\nlet root //保存根元素\r\nlet createParent //保存父节点\r\nlet stack = [] //栈\r\n\r\n//遍历\r\nfunction start(tag, attrs) { //开始标签\r\n    let element = createAstElement(tag, attrs)\r\n    if (!root) {\r\n        root = element\r\n    } else {\r\n        createParent.children.push(element)\r\n    }\r\n    createParent = element\r\n    stack.push(element)\r\n}\r\n\r\nfunction charts(text) {//文本标签\r\n    createParent.children.push({\r\n        type: 3,\r\n        text\r\n    })\r\n}\r\nfunction end(tag) {//结束标签\r\n    let element = stack.pop()\r\n    createParent = stack.pop[stack.length - 1]\r\n    if (createParent) {\r\n        element.parent = createParent.tag\r\n        createParent.children.push(element)\r\n    }\r\n}\r\n\r\n\r\nexport function parseHTML(html) {\r\n    while (html) {            //由开始标签 文本 结束标签组成\r\n        let textEnd = html.indexOf('<')\r\n        if (textEnd == 0) { //标签\r\n            //结束标签\r\n            const endTagMatch = html.match(endTag)\r\n            if (endTagMatch) {\r\n                advance(endTagMatch[0].length)\r\n                end(endTagMatch[1])\r\n                continue\r\n            }\r\n\r\n            //开始标签\r\n            const startTagMatch = parseStartTag()\r\n            if (startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attrs)\r\n                continue\r\n            }\r\n        }\r\n        let text\r\n        if (textEnd > 0) {//文本\r\n            text = html.substring(0, textEnd)\r\n        }\r\n        if (text) {\r\n            advance(text.length)\r\n            charts(text)\r\n        }\r\n    }\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen) //1、结果(标签名) 2、false\r\n        let match = {\r\n            tagName: start[1],\r\n            attrs: []\r\n        }\r\n        let attr\r\n        let end\r\n        advance(start[0].length)//删除匹配了的字符串\r\n        while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n            match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n            advance(attr[0].length)\r\n        }\r\n        if (end) {\r\n            advance(end[0].length)\r\n            return match\r\n        }\r\n    }\r\n    function parseEndTag() { }\r\n    function advance(n) {\r\n        html = html.substring(n)\r\n        // console.log(html)\r\n    }\r\n\r\n    // console.log(root)\r\n    return root\r\n}\r\n","import { parseHTML } from \"./index\";\r\n\r\nexport function compileToFunction(el){\r\n    let ast = parseHTML(el)\r\n    return ast\r\n}","/*\r\nrender(){ _c解析标签\r\n    return _c('div',{id:app,style:{color:red,font-size:12px}},-v('hello'+_s(msg)),_c)\r\n}\r\n*/\r\n\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g //{{}}\r\n\r\n//处理属性\r\nfunction genPorps(attrs){\r\n    let str = ''\r\n    for(let i = 0; i < attrs.length; i++){\r\n        let attr = attrs[i]\r\n        if(attr.name == 'style'){\r\n            let obj = {}\r\n            attr.value.split(';').forEach(item => {\r\n                let [key,val] = item.split(':')\r\n                obj[key] = val\r\n            })\r\n            attr.value = obj\r\n        }\r\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n    }\r\n    return `${'{'+str.slice(0,-1)+'}'}`\r\n}\r\n\r\n//处理子节点\r\nfunction genChildren(el){\r\n    let children = el.children\r\n    if(children){\r\n        return children.map(child => gen(child)).join(',')\r\n    }\r\n}\r\n\r\nfunction gen(node){ //1.元素  3.文本\r\n    if(node.type == 1){\r\n        return generate(node)\r\n    }else{\r\n        let text =node.text\r\n        if(!defaultTagRE.test(text)){ //纯文本，不包含插值表达式\r\n            return `_v(${JSON.stringify(text)})`\r\n        }\r\n        let token = []\r\n        let lastindex = defaultTagRE.lastIndex = 0 //把正则表达式匹配到的下标重新置为0，否者无法再次使用正则\r\n        let match\r\n        while(match = defaultTagRE.exec(text)){\r\n            let index = match.index\r\n            if(index > lastindex){ //文本\r\n                token.push(JSON.stringify(text.slice(lastindex,index)))\r\n            }\r\n            token.push(`_s('${match[1].trim()}')`)\r\n            lastindex = index + match[0].length\r\n        }\r\n        if(lastindex < text.length){\r\n            token.push(JSON.stringify(text.slice(lastindex)))\r\n        }\r\n        return `_v(${token.join('+')})`\r\n    }\r\n}\r\n\r\nexport function generate(el){\r\n    let children = genChildren(el)\r\n    // console.log(el)\r\n    let code = `_c('${el.tag}',${el.attrs.length?`${genPorps(el.attrs)}`:'null'},${children?`${children}`:'null'})`               //_c处理元素 _v处理文本 _s处理变量\r\n    // console.log(code,'code')\r\n    return code\r\n}","export function patch(oldNode,vnode){\r\n      //vnode变成真实dom\r\n      //1.创建新的dom\r\n      let el = createEl(vnode)\r\n      //2.替换 -》获取父节点。把新的节点插入。删除\r\n      // console.log(oldNode,vnode)\r\n      let parentEl = oldNode.parentNode\r\n      parentEl.insertBefore(el,oldNode.nextsibling)\r\n      parentEl.removeChild(oldNode)\r\n      return el\r\n}\r\n\r\nfunction createEl(vnode){\r\n      let {tag,children,key,data,text} = vnode\r\n      if(typeof tag == 'string'){ //标签\r\n            vnode.el = document.createElement(tag)\r\n            if(children.length > 0){\r\n                  children.forEach(child=>{\r\n                        vnode.el.appendChild(createEl(child))\r\n                  })\r\n            }\r\n      }else{\r\n            vnode.el = document.createTextNode(text)\r\n      }\r\n      return vnode.el\r\n}","import { patch } from \"./vnode/patch\"\r\nexport function mounteComponent(vm,el){\r\n      // console.log(vm,el)\r\n      vm._updata(vm._render()) //vm._render 把render函数变成虚拟dom，vm_updata再把它变成真实dom\r\n}\r\n\r\nexport function lifecycleMixin(Vue){\r\n      Vue.prototype._updata = function(vnode){\r\n            // console.log(vnode)\r\n            let vm = this\r\n            vm.$el = patch(vm.$el, vnode) //两个参数：旧的dom，虚拟dom\r\n      }\r\n}","import { initState } from \"./initState\"\r\nimport {compileToFunction} from './compile/parseAst'\r\nimport {generate} from './compile/generate'\r\nimport {mounteComponent} from './lifecycle'\r\n\r\nexport function initMixin(Vue) { //把vue传过来以便使用vue.propertype\r\n    Vue.prototype._init = function (options) {\r\n        let vm = this\r\n        // console.log(this)      //=>Vue实例\r\n        vm.$options = options\r\n        //初始化状态\r\n        initState(vm)\r\n        //模板编译  ->  查看vue官网的生命周期\r\n        if (vm.$options.el) {\r\n            vm.$mount(vm.$options.el)\r\n        }\r\n    }\r\n    //创建$mount\r\n    Vue.prototype.$mount = function (el) {\r\n        let vm = this\r\n        el = document.querySelector(el)\r\n        vm.$el = el\r\n        let options = vm.$options\r\n        if(!options.render){\r\n            let template = options.template\r\n            if(!template && el){\r\n                el = el.outerHTML\r\n                //变成ast语法树\r\n                let ast = compileToFunction(el)\r\n                //ast语法树变成render函数->1，ast语法树变成字符串 2.字符串变成render函数\r\n                let code = generate(ast)\r\n                //将render字符串变成函数\r\n                let render = new Function(`with(this){return ${code}}`)                               ///////重要！！！！\r\n                // console.log(render)\r\n                // render函数变成虚拟dom -- vm._render\r\n                //将虚拟Dom变成真实DOm并放到页面上去 -- vm._update\r\n                options.render = render\r\n            }\r\n        }\r\n        //挂载组件\r\n        mounteComponent(vm,el)\r\n    }\r\n}\r\n\r\n\r\n/*\r\nwith函数：\r\n缺点：容易导致内存泄漏\r\nlet obj = {\r\n    a:1,\r\n    b:2\r\n}\r\nwith(obj){         \r\n    console.log(a,b)\r\n}\r\n*/","export function renderMixin(Vue){\r\n      Vue.prototype._c = function(){\r\n            return createElement(...arguments)\r\n      }\r\n      Vue.prototype._v = function(text){\r\n            return createText(text)\r\n      }\r\n      Vue.prototype._s = function(val){\r\n            // console.log(this.data[val])\r\n           return val==null ? '' : (typeof val == 'object') ? JSON.stringify(val) : val\r\n      }\r\n      Vue.prototype._render = function(){    //render函数变成vode\r\n            let vm = this\r\n            let render = vm.$options.render\r\n            let vnode = render.call(this)\r\n            return vnode\r\n\r\n      }\r\n}\r\n\r\n//创建文本\r\nfunction createText(text){\r\n      return vnode(undefined,undefined,undefined,undefined,text)\r\n}\r\n//创建元素\r\nfunction createElement(tag,data={},...children){\r\n      return vnode(tag,data,data.key,children)\r\n}\r\n\r\nfunction vnode(tag,data,key,children,text){\r\n      return {\r\n            tag,data,key,children,text\r\n      }\r\n}","export const HOOKS = [\r\n      \"beforeCreate\",\r\n      \"created\",\r\n      'beforeMount',\r\n      'mounted',\r\n      'beforeUpdate',\r\n      'updated',\r\n      'beforeDestory',\r\n      'destoryed'\r\n]\r\n\r\n//策略模式\r\nlet starts = {}\r\nstarts.data = function(){} //合并data\r\nstarts.comuted = function(){} //合并comuted\r\nstarts.watch = function(){} //合并watch\r\nstarts.methods = function(){} //合并methods\r\n\r\nexport function mergeOptions(parent,children){\r\n      console.log(parent,children)\r\n      const options = {}\r\n      for(let key in parent){ //有父亲，没有儿子\r\n            mergeField(key)\r\n      }\r\n      for(let key in children){\r\n            mergeField(key) //有儿子，没有父亲\r\n      }\r\n      function mergeField(key){\r\n            if(starts[key]){\r\n                  options[key] = starts[key](parent[key],children[key])\r\n            }else{\r\n                  options[key] = children[key]\r\n            }\r\n      }\r\n}","import {mergeOptions} from '../utils/index'\r\n\r\nexport function initGlobApi(Vue){\r\n    //把所有的属性都放到options里面 {created:[],watch:[],data:[]...}\r\n    Vue.options = {}\r\n    Vue.Mixin = function(mixin){\r\n        //对象合并\r\n        mergeOptions(this.options,mixin)\r\n    }\r\n}","import {initMixin} from './init'\r\nimport { lifecycleMixin } from './lifecycle'\r\nimport {renderMixin} from './vnode/index'\r\nimport {initGlobApi} from './global-api/index'\r\nfunction Vue(options){\r\n    // console.log(options)\r\n    // 初始化\r\n    this._init(options)\r\n}\r\n\r\ninitMixin(Vue) //初始化数据\r\nlifecycleMixin(Vue) //初始化生命周期\r\nrenderMixin(Vue)\r\n\r\n//全局方法\r\ninitGlobApi(Vue)\r\nexport default Vue"],"names":["oldArrayProtoMethods","Array","prototype","ArrayMethods","Object","create","methods","forEach","item","_len","arguments","length","args","_key","res","apply","insert","splice","ob","__ob__","observeArray","observer","data","_typeof","Observer","value","_classCallCheck","defineProperty","enumerable","isArray","__proto__","observerArray","walk","_createClass","key","keys","i","defineReactive","get","set","newValue","initState","vm","opt","$options","props","initData","watch","computed","call","ncname","qnameCapture","concat","startTagOpen","RegExp","endTag","attribute","startTagClose","createAstElement","tag","attrs","children","type","parent","root","createParent","stack","start","element","push","charts","text","end","pop","parseHTML","html","textEnd","indexOf","endTagMatch","match","advance","startTagMatch","parseStartTag","tagName","substring","attr","name","n","compileToFunction","el","ast","defaultTagRE","genPorps","str","_loop","obj","split","_item$split","_item$split2","_slicedToArray","val","JSON","stringify","slice","genChildren","map","child","gen","join","node","generate","test","token","lastindex","lastIndex","exec","index","trim","code","patch","oldNode","vnode","createEl","parentEl","parentNode","insertBefore","nextsibling","removeChild","document","createElement","appendChild","createTextNode","mounteComponent","_updata","_render","lifecycleMixin","Vue","$el","initMixin","_init","options","$mount","querySelector","render","template","outerHTML","Function","renderMixin","_c","_v","createText","_s","undefined","starts","comuted","mergeOptions","console","log","mergeField","initGlobApi","Mixin","mixin"],"mappings":"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"}